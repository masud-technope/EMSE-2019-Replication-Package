[pipeline] adding a whitespace results in adviceDidNotMatch warning
Given the following ------------------------------------------------------------ public aspect A { after () throwing (Throwable th) : execution(* *(..)) { System.err.println(thisEnclosingJoinPointStaticPart); } } class C1 { public void anotherMethod() { } } -------------------------------------------------- adding a whitespace before the aspect declaration results in an adviceDidNotMatch warning even though weaving took place and the advice clearly matches. Output from the AJDT event trace shows: 14:38:23 =========================================================================================== 14:38:23 Build kind = AUTOBUILD 14:38:23 Project=bug92895, kind of build requested=Incremental AspectJ compilation 14:38:23 build: Examined delta - source file changes in required project bug92895 14:38:23 Classpath=/home/hawkinsh/eclipse/workspace32/runtime-New_configuration/bug92895/bin:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/rt.jar:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/jsse.jar:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/jce.jar:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/charsets.jar:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/ext/sunjce_provider.jar:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/ext/sunpkcs11.jar:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/ext/dnsns.jar:/home/hawkinsh/javas/jdk1.5.0_05/jre/lib/ext/localedata.jar:/home/hawkinsh/eclipse/eclipse32/plugins/org.aspectj.runtime_1.5.3.20060801095103/aspectjrt.jar: 14:38:23 Preparing for build: planning to be an incremental build 14:38:23 Starting incremental compilation loop 1 of possibly 5 14:38:23 AJC: compiling source files 14:38:23 Timer event: 215ms: Time to first compiled message 14:38:23 AJC: compiled: /home/hawkinsh/eclipse/workspace32/runtime-New_configuration/bug92895/src/pack/A.aj 14:38:23 addSourcelineTask message=advice defined in pack.A has not been applied [Xlint:adviceDidNotMatch] file=/home/hawkinsh/eclipse/workspace32/runtime-New_configuration/bug92895/src/pack/A.aj line=4 14:38:23 Dropping back to full build 14:38:23 Preparing for build: not going to be incremental because no successful previous full build 14:38:23 AJC: compiling source files 14:38:23 AJC: compiled: /home/hawkinsh/eclipse/workspace32/runtime-New_configuration/bug92895/src/pack/A.aj 14:38:23 AJC: processing reweavable state 14:38:23 AJC: adding type mungers 14:38:23 Timer event: 452ms: Time to first woven message 14:38:23 AJC: woven aspect pack.A (from /home/hawkinsh/eclipse/workspace32/runtime-New_configuration/bug92895/src/pack/A.aj) 14:38:23 AJC: woven class pack.C1 (from /home/hawkinsh/eclipse/workspace32/runtime-New_configuration/bug92895/src/pack/A.aj) 14:38:23 AspectJ reports build successful, build was: FULL 14:38:23 AJDE Callback: finish. Was full build: true 14:38:23 Timer event: 517ms: Total time spent in AJDE 14:38:23 Timer event: 6ms: Create element map (2 rels in project: bug92895) 14:38:23 Types affected during build = 1 14:38:23 Timer event: 3ms: Add markers (2 markers) 14:38:24 Timer event: 1274ms: Total time spent in AJBuilder.build() namely, the adviceDidNotMatch warning was added and then we fell back to a full build and the warning wasn't cleared. Performing a "clean" build fixes the problem. This is since the pipelining changes.